<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Pêche Vaucluse</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
          integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
          crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
            integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
            crossorigin=""></script>

    <style>
        html, body {
            margin: 0px;
            width: 100%;
            height: 100%;
        }


        #map {
            width: 100%;
            height: 100%;
        }
    </style>

</head>

<body>
    <div id="map">

    </div>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.js" charset="utf-8"></script>
    <script src="water.geojson" type="text/javascript"></script>    
    <script type="text/javascript" src="variable.js"></script>
    <script type="text/javascript">

//pour ajouter la map leaflet
var map = L.map("map").setView([43.942259, 4.797535], 12);

//pour créer la couche geojson
var water_lyr = L.geoJSON(water).addTo(map);

//geolocalisation
var ld = L.control.locate({
    flyTo: 'yes'
    })
  .addTo(map);

//Tile providers
map.addLayer(OpenStreetMap_France);
    
map.addControl(new L.Control.Layers( {
    'OpenStreetMap': OpenStreetMap_France, 
    'OpenStreetMapHot' : OpenStreetMap_HOT, 
    'ESRI Map': Esri_WorldStreetMap, 
    'ESRI Imagery': Esri_WorldImagery, 
    'CartoDB_DarkMatter' : CartoDB_DarkMatter
    }, {})
);

//On veut mettre un style selon les attributs
//catégorie_piscicole=1 et categorie_piscicole=2
L.geoJSON(water, {
    style: function(feature) {
        switch (feature.properties.categorie_piscicole) {
            case '1': return {color: "#2fff00"};
            case '2':   return {color: "#006eff"};
        }
    }
}).addTo(map);
//fishing=restriction










    </script>

</body>
</html>