<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no" />
    <meta name="description" content="">
    <meta name="author" content="">


    <title>PÃªche Vaucluse</title>
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    <script src="script/leaflet-providers.js"></script>
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
   
    <link rel="stylesheet" href="jquery-ui.min.css">
    <script src="external/jquery/jquery.js"></script>
    <script src="jquery-ui.min.js"></script>
    <style>
        html, body {
            margin: 0px;
            width: 100%;
            height: 94.8%;
        }
        #map {
            width: 100%;
            height: 100%;
        }
        /* css to customize Leaflet default styles  */
        .leaflet-popup-content-wrapper {
        background: #d6d2d2;
        color: #000000;
        }
        .leaflet-popup-tip {
            background: transparent;
            color:transparent;
        }
        
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-info">
        <a class="navbar-brand font-weight-bold" href="#">Lorem Ipsum</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
  
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
            </li>
          </ul>
        </div>
    </nav>

<div id="map">
        <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.js" charset="utf-8"></script>
        <script src="data/water.js"></script>
        <script src="javascript/style.js"></script>
        <script src="javascript/popup.js"></script>
        <script src="node_modules/leaflet-search/src/leaflet-search.js"></script>

<script>
    require(["leaflet", "leafletSearch"],function(L, LeafletSearch) {

        //... initialize leaflet map and dataLayer ...
    
        map.addControl( new LeafletSearch({
            layer: dataLayer
        }) );
    });
        //map de base
        var canvas_base = L.canvas({tolerance: 5});
        var map = L.map("map",{
            zoomControl:true, 
            maxZoom:28, 
            minZoom:5,
            renderer: canvas_base}
            ).setView([43.942259, 4.797535], 12);
        
        map.addLayer(OpenStreetMap_France);
        L.control.scale().addTo(map);
        
        //geolocalisation
        L.control.locate({
            flyTo: 'yes',
            returnToPrevBounds:'true'
            }).addTo(map);
        
        
        //dd geojson water (cours d'eau et plans d'eau)
        L.geoJSON(water, {
            style: style_courseau,
            onEachFeature: popupcourseau
        }).addTo(map);

    </script>
</div>
    </body>
        </html>